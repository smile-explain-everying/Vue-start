<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>vue-directive</title>
	<script src="../assets/js/vue.js" type="text/javascript"></script>
</head>
<body>
	<h1>vue-directive自定义指令</h1>
	<hr>
	<div id="app">
		<span v-text="num" v-jspang="color"></span><br/>
		<button @click="add">add</button>
	</div>
	<p> <button onclick="unbind()">解绑</button></p>
	<script type="text/javascript">
// el    dome元素

// Vue.directive('jspang',function(el,binding){
//      console.log(el);
//      console.log(binding)
//      console.log(binding.name)
//      console.log(binding.value)
//      console.log(binding.expression)
//      el.style="color:"+binding.value;
// }) 
function unbind(){
	app.$destroy()
}
Vue.directive('jspang',{
	bind:function(el,binding){//被绑定
		el.style="color:"+binding.value;
	},
	inserted:function(){//绑定到节点
		console.log('2 - inserted');
	},
	update:function(){//组件更新
		console.log('3 - update');
	},
	componentUpdated:function(){//组件更新完成
		console.log('4 - componentUpdated');
	},
	unbind:function(){//解绑
		console.log('1 - bind');
	}
})
var app = new Vue({
	el:'#app',
	data:{
		num:10,
		color:'orange'
	},
	methods:{
		add:function(){
			this.num++;
		}
	}
})
</script>
</body>
</html>